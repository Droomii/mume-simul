"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[825],{5825:function(t,e,o){o.d(e,{c:function(){return n}});var a=o(7294),r=o(1802),i=o(7222),l=o(2472),n={TQQQ:r.Z,TECL:l.Z};e.Z=function(){var t=(0,a.useState)(-1),e=t[0],o=t[1],l=(0,a.useState)(0),u=l[0],s=l[1],c=(0,a.useState)(100),d=c[0],f=c[1],v=(0,a.useState)(6e4),h=v[0],p=v[1],g=(0,a.useState)(3e4),m=g[0],M=(g[1],(0,a.useState)(1e4)),S=M[0],Z=(M[1],(0,a.useState)([])),D=Z[0],R=Z[1],b=(0,a.useState)(r.Z),y=b[0],B=b[1],C=function(){var t=0,o=0,a=0,r=0,l=0,n=0,u=!1,s=!1,c=0,d=!1,f=0,v=0,p=0,g=0,M=0,Z=0,D=!1,b=!1,B=0,C=!1,k=0,E=0,w=0,x=0,T=0,I=0,_=0,N=!1,Q=!1,A=0,H=0,L=0,j=0,q=0,z=[],F=y.map((function(R,F,G){var J,K,O,P,U,V,W,X,Y,$,tt,et,ot,at,rt,it,lt=R.date,nt=i.Z.dropDecimal(R.high*R.ratio,2,Math.round),ut=i.Z.dropDecimal(R.close*R.ratio,2,Math.round),st=i.Z.dropDecimal(R.low*R.ratio,2,Math.round),ct=i.Z.dropDecimal(R.open*R.ratio,2,Math.round),dt=(i.Z.dropDecimal(i.Z.getRsi(y.slice(F-14,F).map((function(t){return t.close}))),2),i.Z.dropDecimal(100*(y[F].close/(null!==(J=null===(K=y[F-1])||void 0===K?void 0:K.close)&&void 0!==J?J:y[F].close)-1),2)),ft=i.Z.dropDecimal(100*(y[F].high/(null!==(O=null===(P=y[F-1])||void 0===P?void 0:P.close)&&void 0!==O?O:y[F].close)-1),2);u&&(s=!0),D&&(b=!0),N&&(Q=!0),function(){if(s&&(t=0,o=0,a=0,r=0,u=!1,s=!1,d=!1,c=0),d?(q||0,q++,j=Math.max(q,j)):(q&&z.push(q),q=0),-1!==e&&lt>=e&&!s)if(R.split&&(r*=R.split,o*=R.split),1===++c)X=Math.floor(h/30/ut),r=X,a=X*ut;else{$=a/r;var i=Math.min(h/30,h-a);i<ut&&(d=!0,i=0),Y=100*(ut/$-1),$=Math.round(a/r*100)/100;if(100*(nt/$-1)>=10){var l=r-0;if(n+=l*$*.1,a-=$*l,d=!1,!(r-=l))return a=0,void(u=!0)}Y>0&&(i/=2);var f=Math.floor(i/ut);f&&(r+=f,a+=f*ut)}}(),function(){if(k&&k--,b)return f=0,v=0,p=0,g=0,D=!1,b=!1,C=!1,void(B=0);var t=a/h>=.5;if((t||B)&&!k)if(R.split&&(g*=R.split,v*=R.split),B++,lt===e)tt=Math.floor(m/30/ut),g=tt,p=tt*ut;else{ot=p/g;var o=Math.min(m/30,m-p);o<ut&&(C=!0,o=0),et=100*(ut/ot-1);var r=p/m>=.5;ot=Math.round(p/g*100)/100;var i=0,l=Math.floor(g/4);i+=l,r&&(i+=l);var n=g;if(r){if(100*(nt/ot-1)>=5){Z+=l*ot*.05,p-=ot*l,g-=l,C=!1}if(et>=0){var u=ot*l;Z+=ut*l-u,p-=u,g-=l,C=!1}}else if(et>=5){if(l){var s=ot*l;Z+=ut*l-s,p-=s,g-=l,C=!1}}if(100*(nt/ot-1)>=10){var c=n-i;if(Z+=c*ot*.1,p-=ot*c,!(g-=c))return p=0,D=!0,k=t?5:0,void(C=!1)}et>0&&(r?o=0:et<=5?o/=2:o=0);var d=Math.floor(o/ut);d&&(g+=d,p+=d*ut)}}(),function(){if(H&&H--,Q)return E=0,w=0,x=0,T=0,N=!1,Q=!1,!1,void(A=0);if(!d||!C||H)return _+=ut*T-x,T=0,x=0,void(N=!0);if(R.split&&(T*=R.split,w*=R.split),A++,lt===e)at=Math.floor(S/30/ut),T=at,x=at*ut;else{it=x/T;var t=Math.min(S/30,S-x);t<ut&&(!0,t=0),rt=100*(ut/it-1);var o=x/S>=.5;it=Math.round(x/T*100)/100;var a=0,r=Math.floor(T/4);a+=r,o&&(a+=r);var i=T;if(o){if(100*(nt/it-1)>=5){var l=it*r;_+=it*l*.05,x-=l,T-=r,!1}if(rt>=0){var n=it*r;_+=ut*r-n,x-=n,T-=r,!1}}else if(rt>=5){if(r){var u=it*r;_+=ut*r-u,x-=u,T-=r,!1}}if(100*(nt/it-1)>=10){var s=i-a;if(_+=s*it*.1,x-=it*s,!(T-=s))return x=0,N=!0,H=5,void!1}rt>0&&(o?t=0:rt<=5?t/=2:t=0);var c=Math.floor(t/ut);c&&(T+=c,x+=c*ut)}}();var vt=i.Z.dropDecimal(100*(ut/(null!==(U=$)&&void 0!==U?U:ut)-1),2)||0,ht=i.Z.dropDecimal(a/h*100,2),pt=$?(ut-$)*r:0,gt=a-t,mt=n-l,Mt=r-o;o=r,t=a,l=n;var St=i.Z.dropDecimal(100*(ut/(null!==(V=ot)&&void 0!==V?V:ut)-1),2)||0,Zt=i.Z.dropDecimal(p/m*100,2),Dt=ot?(ut-ot)*g:0,Rt=p-f,bt=Z-M,yt=g-v;v=g,f=p,M=Z;var Bt=i.Z.dropDecimal(100*(ut/(null!==(W=it)&&void 0!==W?W:ut)-1),2)||0,Ct=i.Z.dropDecimal(x/S*100,2),kt=it?(ut-it)*T:0,Et=x-E,wt=_-I;I=_;var xt=T-w;return w=T,E=x,{accEarns:L+=mt+bt+wt,date:lt,idx:F,split:R.split,high:nt,highRate:ft,close:ut,closeRate:dt,open:ct,low:st,first:-1!==e&&lt>=e&&!s?{day:c,progressRate:ht,totalBought:a,earnDiff:mt,totalBoughtStockCount:r,totalEarns:n,winloss:pt,boughtRate:vt,costBasis:a/r||0,buySell:gt,buySellCount:Mt}:void 0,second:B?{day:B,progressRate:Zt,totalBought:p,earnDiff:bt,totalBoughtStockCount:g,totalEarns:Z,winloss:Dt,costBasis:p/g||0,boughtRate:St,buySell:Rt,buySellCount:yt}:void 0,third:A?{day:A,progressRate:Ct,totalBought:x,earnDiff:wt,totalBoughtStockCount:T,totalEarns:_,winloss:kt,costBasis:x/T||0,boughtRate:Bt,buySell:Et,buySellCount:xt}:void 0}}));R(F)};(0,a.useEffect)((function(){C()}),[e,y]);var k=(0,a.useRef)(null);return{seedRef:k,seed1:h,setSeed1:p,totalSeed:h+m+S,handleEnter:function(t){var e;"Enter"===t.key&&k.current&&p(null===(e=k.current)||void 0===e?void 0:e.valueAsNumber)},record:D,startIdx:u,endIdx:d,active:e,setActiveByIdx:function(t){o(D[t].date)},getRecordByIdx:function(t){return D[t]},handleClickRow:function(t,a){o(e===t?-1:t)},handleScroll:function(t){var e=t.currentTarget,o=e.scrollTop;o+e.clientHeight>=e.scrollHeight&&(s(Math.min(y.length-100,u+50)),f(Math.min(y.length,d+50))),o<=0&&(f(Math.max(100,d-50)),s(Math.max(0,u-50)),u-50>0&&t.currentTarget.scroll(0,10))},handleChangeTicker:function(t){B(n[t]),s(0),f(100),o(-1)},update:C}}}}]);